<?xml version="1.0" ?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
	<channel>
		<title>mehvix.com</title>
		<description>Updates from mehvix.com (Max Vogel)</description>
		<lastBuildDate>Sat, 11 Feb 2023 23:49:53 -0000</lastBuildDate>
		<language>en-us</language>
		<link>https://www.mehvix.com</link>
		<category>Blog</category>
		<item>
			<author>Max Vogel</author>
			<title>Painting Balls</title>
			<pubDate>Sat, 11 Feb 2023 08:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/exists.html</link>
			<guid>https://mehvix.com/posts/exists.html</guid>
			<content:encoded><![CDATA[<article>
<p>
                Say we have a sphere with 10% of it's surface area painted in blue and the remaining 90% red. We want to
                show that, no matter how the sphere is painted, we can always <a href=&quot;https://en.wikipedia.org/wiki/Inscribed_figure&quot;>inscribe</a> a cube inside such that it's 8 corners
                (vertices) are all touching red.
                <hr/>
                Formalizing this in terms of probabilities, we operate over the space $\Omega$ of all possible sphere
                paintings. We know that if we randomly placed a vertex $i$, the chance of it being red is $\mathbb{P}(R_i) =
                0.9$
                and similarly $\mathbb{P}(B_i) = 0.1$. Thus we can state our problem as:

                $$
                \begin{align}
                \mathbb{P}\left(\bigcap^8_{i=1} R_i \right) &amp;= 1 - \mathbb{P}\left(\bigcup^8_{i=1} B_i \right) \\
                &amp;\geq 1- \sum_{i=1}^8 \mathbb{P}(B_i) \\
                &amp;= 1 - 8 \cdot 0.1 \\
                &amp;= 0.2 \\
                &amp;\neq 0 \iff \bigcap^8_{i=1} R_i \in \Omega
                \end{align}
                $$

                In other words, we showed that some event (with the property of having all 8 vertices be red) is non-zero.
                This works because to show that some specific element $\omega \in \Omega$, it is sufficient to show that
                there exists a probability distribution $p$ over $\Omega$ where $p(\omega) &gt; 0$. This follows from the fact
                that if $\omega \not\in \Omega$ then $p(\omega) = p(\varnothing) = 0$. This proof technique is called <a href=&quot;https://en.wikipedia.org/wiki/Probabilistic_method&quot;>The Probabilistic Method</a> and notably
                non-constructive: given the sphere's blue coloring, it does not show how to orient a cube, rather,
                it shows that there exists some orientation regardless of the exact blue locations.
            </p>
<p>
                Talking around, Aidan (<a href=&quot;/posts/tiling-distance.html&quot;>cowboy hat</a>) came up with another proof.
                Essentially, each of the eight sphere octants around each of the eight points contains $100/8 = 12.5\%$ of
                the total surface area. And as any $c\%$ is painted in one octant, the other seven octants will be
                constrained similarly: there will be a corresponding $c\%$ 'implicitly painted' such that placing a vertex in
                this area will cause another vertex to be blue. Thus we can view the problem as an issue of covering an
                octant's $12.5\%$ surface area given $10\%$ blue -- impossible! The proof is a tad handwavy, but gives a
                sense of how we could construct an orientation by collapsing each octants into a single one that reveals the
                (minimally $2.5\%$) remaining, valid red area.
            </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Driving Stick and Design</title>
			<pubDate>Sun, 27 Nov 2022 08:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/stick.html</link>
			<guid>https://mehvix.com/posts/stick.html</guid>
			<content:encoded><![CDATA[<article>
<p>
<a href=&quot;http://www.icsi.berkeley.edu/icsi/people/shenker&quot;>Scott Shenker</a> gave a <a href=&quot;https://youtu.be/3d1dLT6yMyA&quot;>talk</a> in my networking class where he shared an anecdote that went
                something like this:
            </p>
<blockquote>
                To give some background, I did my training as a theoretical physicist: I took a postdoc in physics
                and then I joined Xerox Palo Alto Research Center (PARC). Xerox PARC was basically where Modern PCs and
                interfaces were invented: it's where Apple.. I don't want to say stole, since Steve
                Job visited and we showed him all the technology. But that's what the Macintosh was built on, was
                copying these ideas.
                <br/>
<br/>
                I arrived in 1984 and a year and a half after I joined <a href=&quot;https://jnd.org/&quot;>Don Norman</a>, the lead
                UI designer at Apple, came to visit Xerox PARC. Now I was a physicist so my ego was not involved in this but
                certainly the computer scientists thought <i>'we invented this stuff! we know about user interfaces! how
                    could somebody come and tell us, you who built the Mac--this cheap piece of shit--how dare you come and
                    try and tell us how to build user interfaces!'</i>
<br/>
<br/>
                The auditorium was packed with 300 Engineers, lots of energy in the room. Don Norman, this charismatic man
                who's even older than I am, just walks up to the podium and looks out at us for for what felt like forever (but
                it was probably 30 seconds) before asking &quot;How many of you drive a stick shift?&quot; And it's a bunch of male
                engineers so a bunch of hands went up and you could tell it was 'well <i>I</i> drive a stick shift!'
                <br/>
<br/>
                He looks at us and says &quot;None of you should <sc>Ever</sc> design a user interface!&quot;
            </blockquote>
<p>
                Mastering complexity is valuable: it is crucial when developing novel systems. It is also an indicator of
                enjoying the process--learning the skills, nuances, mindset--needed to cope with said complexity.
            </p>
<p>
                These motivations are orthogonal to the goal of design: to extract simplicity, abolishing complexity. If you
                are an enjoyer of mastering complexity, your innate mental attitude will blind you from recognizing the
                grooves you have learned, making you incapable of extracting simplicity. It is the difference of low and high
                level perspectives. You will never succeed in design if you do not recognize that it involves an entirely
                different set of skills with respect to mastering
                complexity.
            </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Probabilistic Counter</title>
			<pubDate>Tue, 30 Aug 2022 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/counting.html</link>
			<guid>https://mehvix.com/posts/counting.html</guid>
			<content:encoded><![CDATA[<article>
<div>
<pre><code class=&quot;language-python right&quot;>
class Counter:
    def __init__(self):
        self.n = 0
    def increment(self):
        self.n += 1
    def query(self):
        return self.n
                </code></pre>
<h1>Trivial</h1>
<p>
                    Consider the following trivial counter to the right. It keeps a tally $n$ of how many times
                    <code class=&quot;hljs-title&quot;>increment</code> has been called, which can then be queried at any time. Under
                    the hood, since $n$ is an integer it's represented in binary (base-2) which uses $\text{len}(n_2) =
                    \lceil \log_2 (n + 1) \rceil = \lfloor \log_2 (n) + 1 \rfloor$ bits of memory. Thus this counter has a
                    <a href=&quot;https://en.wikipedia.org/wiki/Space_complexity&quot;>space complexity</a> of $\mathcal{O}(\log
                    (n))$. You can see this in the table below:
                </p>
<table>
<tr>
<th>$n = n_{10}$</th>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>8</td>
<td>16</td>
<td>32</td>
<td style=&quot;padding: 0&quot;>
<input id=&quot;n&quot; min=&quot;0&quot; name=&quot;n&quot; oninput=&quot;n2.innerText=(+this.value).toString(2); nbit.innerText=Math.ceil(Math.log2((+this.value)+1)); &quot; placeholder=&quot;33&quot; type=&quot;number&quot;/>
</td>
<script>
                            document.addEventListener(&quot;DOMContentLoaded&quot;, function() {
                                n.dispatchEvent(new Event(&quot;input&quot;));
                            });
                        </script>
</tr>
<tr>
<th>$n_2$</th>
<td>0</td>
<td>1</td>
<td>10</td>
<td>11</td>
<td>100</td>
<td>101</td>
<td>1000</td>
<td>10000</td>
<td>100000</td>
<td id=&quot;n2&quot;></td>
</tr>
<tr>
<th>$\lfloor \log_2 (n) + 1 \rfloor$</th>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td id=&quot;nbit&quot;></td>
</tr>
</table>
</div>
<div>
<h1>Morris Counter</h1>
<p>
                    Can we do better? That is, can we come up with a better representation (data structure)? Lets say there
                    does in fact exist some schema such that
                    we can represent a <span style=&quot;display: inline-block&quot;>$n$umber</span> using less than $\log(n)$ bits.
                    Then, by the
                    <a href=&quot;https://artofproblemsolving.com/wiki/index.php/Pigeonhole_Principle&quot;>Pigeon Hole Principle</a>
                    there exist two distinct integers $a,\ b \in [n]$ corresponding to two different iterations of increments
                    which map to the same representation in memory. Therefore, when queried they both return the same value
                    which is a contradiction! So at least until Quantum Computers aren't a meme, we can't do better.
                </p>
<p>
                    This lead to an interesting insight: what if we could be 'okay' with $a,\ b$ mapping to the same
                    memory? This would involve losing some information, so we'd only have approximations
                    the true values of $a$ and $b$ represent. Why and when would we want to do this?
                    In 1985 <a href=&quot;https://en.wikipedia.org/wiki/Robert_Morris_(cryptographer)&quot;>Robert Morris</a> was
                    working at Bell Labs on the Unix <a href=&quot;https://github.com/memnoth/unix-v6/blob/master/source/s2/typo.c&quot;>spellchecking program</a> and
                    wanted to keep track of <a href=&quot;https://en.wikipedia.org/wiki/Trigram&quot;>trigram</a> counts, requiring
                    $26^3$ simultaneous counters. To reduce the memory needed, he invented the
                    <a href=&quot;https://en.wikipedia.org/wiki/Approximate_counting_algorithm&quot;>Morris Counter</a> which
                    approximates this count proportional to $\mathcal{O}(\log (\log (n)))$ space. You can read much more of
                    the history <a href=&quot;https://arxiv.org/pdf/1805.00612.pdf&quot;>here</a>. And even with the
                    cheap and bountiful memory we have now, Redis implements an altered Morris counter in it's
                    <a href=&quot;https://redis.io/docs/manual/eviction/&quot;>key eviction policies'</a>
<a href=&quot;https://en.wikipedia.org/wiki/Least_frequently_used&quot;>Least Frequently Used</a> algorithm: this
                    requires keeping track how many times each key in the database has been queried to prune the least used.
                </p>
<p>
<pre><code class=&quot;language-python right&quot;>
class MorrisCounter:
    def __init__(self):
        self.X = 0
    def increment(self):
        if random.random() &lt; 1/(2**self.X):
            self.X +=1
    def query(self):
        return (2**self.X) - 1
                    </code></pre>
                    The Morris counter itself works by incrementing the counter probabilistically. That is, after <code class=&quot;hljs-title&quot;>increment</code> is called $n$ times then our representation $X_n$ is increment
                    with a probability of $\frac 1 2^{X_n}$ and <code class=&quot;hljs-title&quot;>query</code> returns the estimate
                    $\hat n = 2^{X_n} - 1$. Notice how this estimate can only take on a subset of values-- this is the
                    tradeoff that allows us to obtain better memory complexity. Intuitively, the chance we increment $X_n$
                    decreases logarithmically with $n$ so we can speculate that our estimate has space complexity of
                    $\mathcal{O}(\log (\log (n)))$. To prove that that
                    our $\hat n$ is given by the prior formula is accurate, we can prove with induction that $\Bbb{E}
                    \left(2^{X_n}\right) = n+1$:
                    $$\begin{align*}
                    \mathbb{E}\Big(2^{X_{n+1}}\Big) &amp;= \sum_{i=0}^\infty \Bbb{P} (X_n = i) \cdot \Bbb{E} \Big( 2^{X_{n + 1}}
                    \mid X_n = i\Big) \\
                    &amp;= \sum_{i=0}^\infty \Bbb{P} (X_n = i) \cdot \left(\left(1- \frac 1 2^i \right) 2^i + \frac 1 2^i 2^{i+1}
                    \right) \\
                    &amp;= \sum_{i=0}^\infty \Bbb{P} (X_n = i) \cdot \left((2^i - 1) + 2\right) \\
                    &amp;= \sum_{i=0}^\infty 1 \cdot \Bbb{P} (X_n = i) + \sum_{i=0}^\infty 2^i \cdot \Bbb{P} (X_n = i) \\
                    &amp;= 1 + \Bbb{E} \Big(2^{X_n}\Big) \\
                    &amp;= n + 2 \\
                    \end{align*}$$
                    The second term expands to the expected value if incremented plus the expected value if not
                    incremented. And after expanding, the first term simplifies to $1$ given by
                    <a href=&quot;https://en.wikipedia.org/wiki/Law_of_total_probability&quot;>law of total probability</a> and the
                    second is the expected value of $X_n$.
                </p>
<p>
                    It can also be shown by a similar process that the variance is given by
                    <!-- beautify ignore:start -->
                    $\text{Var}(\hat n) = \frac{n^2}{2} - \frac n 2 - 1 &lt; \frac{n^2}{2}$. With this, we can use <a href=&quot;https://en.wikipedia.org/wiki/Chebyshev's_inequality&quot;>Chebyshev's inequality</a> to set up an equation to bind the variance:
                    $$\begin{align*}
                    \mathbb{P}(|\hat n - n| \geq \varepsilon n) &amp; \leq \frac{\text{Var}(\hat n)}{\varepsilon^2 n^2} \leq \delta \\
                    &amp; &lt; \frac{\frac{n^2}{2}}{\varepsilon^2 n^2} = \frac{1}{2\varepsilon^2} \leq \delta \\
                    \end{align*}$$
                    <!-- beautify ignore:end -->
</p>
</div>
<div>
<h1>Generalization &amp; Improving</h1>
<p>
                    Instead of incrementing with probability $\frac 1 2 ^X$, we use $\frac 1 {1 + \alpha}^X$, where alpha is
                    some constant ($\alpha = 1$ in the case of OG Morris Counter). We also have return our estimate $\frac
                    {(1 + \alpha)^X}{\alpha} - 1$. This now gives us control over the
                    behavior of our counter: intuitively, as $\alpha \to 1$ we approach a deterministic counter so $\alpha$
                    is directly related to memory usage (bits) and inversely related to variability. In his
                    <a href=&quot;https://www.inf.ed.ac.uk/teaching/courses/exc/reading/morris.pdf&quot;>original paper</a>, Morris
                    showed that if we set $\alpha = \varepsilon^2 \delta$ leads to a $(1+\varepsilon)$-approximation
                    with $1-\delta$ probability using $\mathcal{O}\left(\log \log n + \log \frac 1 \varepsilon +
                    \log \frac 1 \delta\right)$ bits. Then, in 2022 (40+ years later!)
                    <a href=&quot;https://arxiv.org/pdf/2010.02116.pdf&quot;>Jelani Nelson and Huacheng Yu</a> proved
                    that there exists an even tighter bound of $\mathcal{\Theta}(\log \log n + \log \frac 1 \varepsilon +
                    \log \log \frac 1 \delta)$.
                </p>
<p>
                    Another improvement we could implement is to use a deterministic counter for small
                    values and switch over to approximate after a certain threshold <code>lim</code>:
                </p>
<pre><code class=&quot;language-python&quot;>
class MorrisAlpha:
    def __init__(self, a=.05, lim=8):
        self.X = 0
        self.a = a
        self.lim = lim
    def increment(self):
        if self.X &lt; self.lim:
            self.X += 1
        elif random.random() &lt; 1/((1 + self.a)**self.X):
            self.X += 1
    def query(self):
        if self.X &lt;= self.lim:
            return self.X
        return ((1 + self.a)**self.X)/self.a - 1
                </code></pre>
</div>
<div>
<h1>Concurrent</h1>
<p>
<!-- beautify ignore:start -->
                    What if we used many concurrent, independent Morris counters? That is, we have $y$ counters $\{\hat n_1
                    \dots \hat n_y\}$ and we returned the average of their outputs when queried: $\hat n = \frac 1 y
                    \sum_{i=1}^y \hat n_i$. The expectation of a summation of independent random variables is given by
                    $\Bbb{E}(\hat n) = \Bbb{E}\left(\frac 1 y \sum_{i=1}^y \hat n_i\right) = \Bbb{E}(\hat n_i) = n$. When a
                    random variable is multiped by a constant $\gamma = \frac 1 y$ then it's variance changes by $\gamma^2$:
                    $\text{Var}(\hat n) = \text{Var}\left(\frac 1 y \sum_{i=1}^y \hat n_i\right) = \frac {1}{y^2}
                    \sum_{i=1}^y \text{Var}\left(\hat n_i\right) &lt; \frac{n^2}{2y}$. We can then set up Chebyshev's inequality
                    to get the following bound:
                    $$\Bbb{P}(|\hat n - n| \geq \varepsilon n) \leq \frac{1}{2 \varepsilon^2 y} &lt; \delta$$
                    for $y = \left\lceil \dfrac {1}{2 \varepsilon^2 \delta}\right\rceil$. This has space complexity of
                    $\mathcal{O} (y \cdot \log \log n) = \mathcal{O} \left(\dfrac {\log \log n}{\varepsilon^2 \delta}\right)$.
                    <!-- beautify ignore:end -->
</p>
<p>
                    The main takeaway is that we can now choose how tight we want the variance to be by averaging many copies
                    of Morris, but at the cost of blowing up our memory.
                </p>
<pre><code class=&quot;language-python&quot;>
class MorrisConcurrent:
    def __init__(self, y):
        self.X = 0
        self.ys = [MorrisCounter() for _ in range(y)]
    def increment(self):
        [y.increment() for y in self.ys]
    def query(self):
        return sum([y.query() for y in self.ys])/len(self.ys)
                    </code></pre>
</div>
<div>
<h1>Mo(o)re</h1>
<p>
                    We can go even further by using another $z$ independent instances of the concurrent counters,
                    each with chance of failure $\delta = \frac 1 3$. Then, we output the median of all $y$ counters where
                    the median is valid iff we have $\frac z 2$ 'successful counters'. Since $\delta = \frac 1 3$ then a
                    deviation of $\frac z 2 - \frac z 3 = \frac z 6$ from the median is valid. We can then set up a
                    <a href=&quot;https://en.wikipedia.org/wiki/Hoeffding's_inequality&quot;>Hoeffding bound:</a>
<!-- beautify ignore:start -->
                    $$
                    \Bbb{P}\left(\sum_{i=1}^z Y_i \leq \frac z 2\right) &lt; \Bbb{P}\left( \left| \sum_{i=1}^z Y_i -
                    \Bbb{E}(Y_i) \right| &lt; \frac z 6 \right) \leq e^{-2 (\frac{1}{6})^2 z} \leq \delta %&gt;
                    $$
                    <!-- beautify ignore:end -->
                    Thus, we have a total of $yz = \left\lceil\dfrac {\log{\frac 1 \delta}}{\varepsilon^2}\right\rceil$
                    copies of the original Morris counter. Once any of the counters reach $\log \frac {yzn} \delta$ the
                    chance that it increments again is $\frac \delta {yzn}$ so the chance it increments in the next $n$
                    increments is $\frac \delta {yz}$. Thus, if we set the bound $\delta$ such that none of the counters
                    go above $\log \frac {yzn} \delta$ (using $\mathcal{O} \left({\log{\log \frac {yzn}\delta}}\right)$
                    bits) then we have a bounded space complexity of
                    $\mathcal{O} (yz \cdot \log\log n) = \mathcal{O} \left(\dfrac{\log \frac 1 \delta \log\log
                    n}{\varepsilon^2}\right)$.
                </p>
<p>
                    You can see that the subsequent two algorithms are actually slower than a Generalized Morris counter
                    with optimal $\alpha$ that Morris proved in his original paper. However, this process of taking the
                    median of many means (of a fixed failure rate) exponentially decreases the overall failure rate and can
                    be applied to other algorithms to obtain a better space complexity.
                </p>
</div>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>It's all Balls</title>
			<pubDate>Thu, 18 Aug 2022 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/balls.html</link>
			<guid>https://mehvix.com/posts/balls.html</guid>
			<content:encoded><![CDATA[<article>
<div>
<span>
                    $$x_1 + x_2 + x_3 + x_4 + x_5 = 50$$

                    $50$ balls, $5$ bins: ${50 + 5 - 1 \choose 5 - 1}$
                </span>
<!-- <span>
                    $$x_1 \leq x_2 \leq x_3 \leq x_4 \leq x_5$$

                    $10$ bins of each digit, and $5$ balls: ${10+5-1 \choose 5-1}$. Remember that order does not matter.
                </span> -->
<span>
                    $$x_1 + x_2 + x_3 + x_4 + x_5 \leq 50$$

                    $\sum_1^5 x_i = n$ with excess of $50-n$ which we can place in an extra bin: $50$ balls, $6$ bins:
                    ${50
                    + 6
                    - 1 \choose 6 - 1}$
                </span>
<span>
                    $$x_1 + x_2 + x_3 + x_4 + x_5 = 50$$
                    $$\text{st } (\forall i \in [5])(x_i \geq 1)$$

                    Distribute $5$ beforehand, leaving $45$ balls still to be distributed: ${45 + 5 - 1
                    \choose 5 - 1}$
                </span>
<span>
                    $$x_1 + x_2 + x_3 + x_4 + x_5 = 50$$
                    $$\text{st } (\forall i \in [5])(x_i \geq i)$$

                    Distribute $1,\dots,5$ beforehand, leaving $50-\sum_1^5i = 35$ balls still to be distributed: ${35 +
                    5 -
                    1
                    \choose 5 - 1}$
                </span>
<span>
                    $$x_1 + x_2 + x_3 + x_4 + x_5 = 50$$
                    $$\text{st } (\exists \gamma \in [50])(x_1 \leq \gamma)$$

                    This is the very first case, excluding those when $x_1 &gt; \gamma$. That is, when we have $50 -
                    \gamma$
                    left to distribute. Thus we can take our first case and pattern-match with the prior case: ${50 + 5
                    - 1 \choose 5 - 1} - {(50-\gamma) + 5 - 1 \choose 5 - 1}$
                </span>
</div>
<hr/>
<p>
                Huh? See <a href=&quot;https://en.wikipedia.org/wiki/Balls_into_bins_problem&quot;>Balls into bins
                    problem</a>.
            </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Feedback</title>
			<pubDate>Sun, 13 Feb 2022 08:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/feedback.html</link>
			<guid>https://mehvix.com/posts/feedback.html</guid>
			<content:encoded><![CDATA[<article>
<div>
                    My mistakes and regrets are the product of my own ignorance,
                    arrogance, and unawareness. I would much rather hear what
                    may not be nice to hear in-the-moment than to never hear it
                    at allâ€”â€” nothing else inspires conscious self-reflection
                    other than perhaps (romantic) rejection. If you have the
                    spare time, I'd greatly appreciate your feedbackâ€”â€”negative
                    or positive, big or small, pertaining to my code or
                    beliefsâ€”â€”so I can recognize my
                    <a href=&quot;https://en.wikipedia.org/wiki/Maya_(religion)#Vedanta_school&quot;>Maya</a>. You can fill out the anonymous feedback form below or
                    <a href=&quot;https://cloud.mehvix.com/apps/forms/4nPHba8sQqbecmnN&quot;>at this link</a>. I only ask that you
                    <a href=&quot;https://larahogan.me/blog/dont-soften-feedback/&quot;>Don't Soften Feedback</a>
                    and, if praising,
                    <a href=&quot;https://chrislakin.com/praise&quot;>Praise Descriptively</a>.
                </div>
<iframe frameborder=&quot;0&quot; src=&quot;https://cloud.mehvix.com/apps/forms/4nPHba8sQqbecmnN&quot;></iframe>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>The Colemak Experience</title>
			<pubDate>Fri, 04 Feb 2022 08:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/colemak.html</link>
			<guid>https://mehvix.com/posts/colemak.html</guid>
			<content:encoded><![CDATA[<article>
<h1>Pre</h1>
<div>
<p>
                        I have now typed in Colemak for 391 days in a row, so I
                        feel somewhat qualified to tell you why you should
                        consider (not) switching your keyboard layout.
                    </p>
</div>
<h1>What</h1>
<div>
<img alt=&quot;&quot; src=&quot;/static/media/posts/cm.png&quot;/>
<blockquote>
                        Colemak is a modern alternative to the QWERTY and Dvorak
                        layouts, designed for efficient and ergonomic touch
                        typing in English. Learning Colemak is a one-time
                        investment that will allow you to enjoy faster and
                        pain-free typing for the rest of your life (<a href=&quot;https://colemak.com/&quot;>colemak.com</a>)
                    </blockquote>
<p>
                        Simply, Colemak places the most commonly typed letters
                        (based on the English language) on the home row and
                        determines the position of the rest by accounting for
                        finger distance, row jumping, same-finger typing
                        <a href=&quot;https://colemak.com/Ergonomic&quot;>etc</a>,
                        <a href=&quot;https://colemak.com/Fast&quot;>etc</a>.
                    </p>
</div>
<h1>Why Not</h1>
<div>
<p>
                        Switching to Colemak takes long. And is just hard. You
                        have to break your old muscle memory. Typing is going to
                        be a slow, ugly drudge for a while. I got back to
                        averaging 70 WPM (my OG QWERTY speed) after a (long)
                        month. Then again, my roommate Jack got back 84 WPM
                        after two days (he was formerly avg 140)-- this is a
                        developing situation (he just got 84 five minutes ago)
                        but at this rate I'm sure he'll get 140 by the end of
                        the week. This is the hardest part of the whole process.
                    </p>
<p>
                        After you learn Colemak, good luck using other people's
                        computers. It's embarrassing. When you learn Colemak,
                        you have to destroy all your pre-existing typing habits,
                        thus, you (need to) forget QWERTY (on a regular
                        keyboard, phone fine). I now carry around a USB with
                        Windows/Linux Colemak files (which isn't terrible since
                        I always have a password-backup USB on me). Regardless,
                        it's a hassle. Additionally, sometimes you do not have
                        permissions to install layouts (school/works computers).
                        To circumvent this, I was looking into building a
                        physical middle-man between the keyboard and computer
                        using an Arduino. The parts arrived but now that I'm at
                        Berkeley and I have no free time (or, there are more
                        fulfilling things to do with my free time). Maybe this
                        summer. Anyways, more reasons not to use Colemak:
                    </p>
<p>
                        If you use
                        <a href=&quot;./win-insecure-files.html&quot;>VeraCrypt</a> or any
                        other encryption system that requires unlocking the
                        drive prior to the operating system loading (so, yes,
                        LUKS) then typing your password is pain: your keyboard
                        will be typing in QWERTY (unless you have a hardware
                        Colemak keyboard, which you probably shouldn't). You can
                        circumvent this by setting your keyboard layout
                        temporarily to QWERTY, then typing your password like
                        you normally would (just type what you would by pressing
                        the keys as if they were Colemak), and you're set.
                        Additionally, some (most) of Linux DE's do not load the
                        layout on the initial lock screen so you'll have to
                        slowly type it out. I've found that after a while my
                        brain can store the QWERTY-muscle memory of my most
                        common passwords so it's not terrible after you encode
                        the important/common ones in your brain.
                    </p>
<p>
                        Vim is not as slick: your movement keys aren't in the
                        same proximity. You can rebind the keys, of course, but
                        out of the box (ex. when you SSH into a machine) it's
                        annoying. More generally, shortcuts may be more a hassle
                        for other programs. For what it's worth, Colemak does
                        have <code>C</code> and <code>V</code> unchanged (for
                        copy / paste respectively) unlike Dvorak.
                    </p>
<p>
                        Finally, I can only imagine it's fairly easy to
                        fingerprint Colemak (or really any non-mainstream
                        layout) users, either through reading the current
                        keyboard layout or by unique, colemak-specific typing
                        mannerisms (look up 'Behavioral Biometrics'). This only
                        matters if you're a privacy nut or Snowden-level wanted.
                    </p>
<p>
                        Summary: the hardest part is the first month (getting
                        back to your old WPM). The rest of the reasons are
                        mostly small nuisances and edge cases that you can judge
                        if they matter.
                    </p>
</div>
<h1>Why</h1>
<div>
<p>
                        It's fun to learn as a challenge. If you like learning
                        skills, this is one of the ones to at least try out. I
                        can tell you it's more useful than knowing morse-code
                        (besides perhaps <code>...---...</code>) and around the
                        same impressiveness as being able to solve a rubik's
                        cube. It's also fun to type: if you go online you'll see
                        people talking about the sweet '<a href=&quot;https://forum.colemak.com/topic/802-finger-rolls/&quot;>finger rolls</a>' that Colemak is conductive to. If you switch, type
                        'tenderheartednesses' and you'll see.
                    </p>
<p>
                        You will probably get faster. Then again, I may have
                        gotten equally better had I spend this time and focus
                        towards improving regular typing. Anyways, I went from
                        averaging 70 to 100 WPM. Below is my progress on
                        monkeytype:
                    </p>
<img alt=&quot;&quot; src=&quot;/static/media/posts/prog.png&quot;/>
<p>
                        Also, you may not get RSI or carpal tunnel which is
                        pretty dope ðŸ‘Œ.
                    </p>
</div>
<h1>How</h1>
<div>
<p>
                        To end this post, I'm actually a liar! I use a
                        derivative of Colemak, called
                        <a href=&quot;https://colemakmods.github.io/mod-dh/&quot;>Colemak-DH</a>, which has a few other additional tweaks you can read
                        about on the website. Skim it and choose if you want it
                        or Colemakâ€”â€” it really doesn't matter all that much. One
                        minor thing is that base Colemak is included Manjaro
                        (and presumably other distros) while -DH is not (making
                        set up a bit more painful.)
                    </p>
<p>
                        When you do decide to take the Colemak pill, set aside a
                        weekend where you are okay being unproductive while
                        using a computer. To learn Colemak, you have to use it
                        lots. You can't swap back between it and QWERTY, so you
                        have to grind back to an acceptable WPM.
                    </p>
<p>
                        After running the installer (<a href=&quot;https://colemak.com/Download&quot;>colemak installers</a>,
                        <a href=&quot;https://colemakmods.github.io/mod-dh/&quot;>-DH installers</a>), I started by going through all the keys on
                        <a href=&quot;https://first20hours.github.io/keyzen-colemak/&quot;>keyzen colemak</a>, then
                        <a href=&quot;https://www.colemak.academy/&quot;>colemak.academy</a>, and finally grinding
                        <a href=&quot;https://monkeytype.com/&quot;>monkeytype</a>. This
                        is what I recommend to others, and how my roommate Jack
                        is learning very quickly. You may also want to checkout
                        the
                        <a href=&quot;https://old.reddit.com/r/Colemak/&quot;>subreddit</a>
                        to see what's worked for others. Ultimately, it boils
                        down to focusing on breaking your old habits. If you
                        think that sounds lke a fun challenge, highly
                        recommended!
                    </p>
</div>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Killing pass.mehvix.com</title>
			<pubDate>Thu, 09 Dec 2021 08:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/pass.html</link>
			<guid>https://mehvix.com/posts/pass.html</guid>
			<content:encoded><![CDATA[<article>
<p>I received an email threatening legal action against me:</p>
<img src=&quot;/static/media/posts/pass-email.png&quot;/>
<p>
                After this blog post goes up, I am taking down
                <a href=&quot;http://pass.mehvix.com&quot;>pass.mehvix.com</a>. But, given the nature of open source code,
                <b>I have no power over anyone <a href=&quot;https://github.com/Mehvix/pass/tree/2a9f0943c1de99367f638fcf27ccf8add635290f&quot;>forking</a> and running their own <a href=&quot;https://github.com/Mehvix/pass/network/members&quot;>instance</a>
</b>. Or using <code>about://inspect/#devices</code> in a Chromium browser to see the app's source code.
                <a href=&quot;https://www.eff.org/deeplinks/2015/04/remembering-case-established-code-speech&quot;>Code is free speech</a>.
                <a href=&quot;https://www.youtube.com/watch?v=PVF9lZ-i_ss&quot;>You can't stop the signal</a>.
            </p>
<p>
                It was a good run- I started pass for myself and roomies, then they told five people, and those people told
                five more, etc etc until it came full loop where people would tell me about pass.mehvix.com not knowing that
                I was mehvix.
            </p>
<p>Here's the cloudflare analytics for anyone interested:</p>
<img alt=&quot;&quot; src=&quot;/static/media/posts/pass-stats.png&quot;/>
<p>
                Try and see if you can infer when lunch and dinner are based on the spikes. Also, don't worry if you've used
                pass and are concerned about your privacy: I'm a privacy nut and have never collected any user information.
            </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Tiling Distance Contradiction</title>
			<pubDate>Sun, 31 Oct 2021 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/tiling-distance.html</link>
			<guid>https://mehvix.com/posts/tiling-distance.html</guid>
			<content:encoded><![CDATA[<article>
<h1>Background</h1>
<p>
                    This past weekend I was walking around downtown Berkeley
                    with my friends to get
                    <i><a href=&quot;http://www.kingpindonuts.com/&quot;>Kingpin Donuts</a></i>
                    when I thought of this contradiction involving the quickest
                    way to traverses a square with infinitely small street
                    blocks street blocks.
                </p>
<h1>Problem</h1>
<h2>Setup</h2>
<p>
                    Consider a <code>1 x 1</code> unit square and a particle
                    starting at the bottom left of the square:
                    <code>(0,0)</code>. This particle wants to move to
                    <code>(1,1)</code>
                    [top right] as quickly as possible while moving only along
                    the edges [streets] of the square. In the
                    <code>1 x 1</code> case, you have two paths each involving
                    two steps: (1) up, right and (2) right, up. Since these
                    paths are symmetric, we'll treat them as a single path. In
                    this single path, we clearly travel a distance of
                    <code>2 units</code> [<code>1 unit per step</code> and
                    <code>2 steps</code>].
                </p>
<h2>Smaller Blocks</h2>
<p>
                    Now, what if we divide our existing block into forths; that
                    is, we have four <code>0.5 x 0.5</code> unit squares. Now,
                    consider the following two paths that each take four steps:
                    (1) right, right, up, up and (2) right, up, right, up. Just
                    as the previous <code>1 x 1</code> case, both of these paths
                    travel a total distance of <code>2 units</code> [each of the
                    four steps travels <code>0.5 units</code>].
                </p>
<p>
                    Say we repeat this dividing of the square
                    <code>n</code> times so our original <code>1 x 1</code> unit
                    block is split into <code>2^n x 2^n</code> sub-blocks, each
                    with side length <code>1/2^n</code>. Now both the outermost
                    and alternating paths each take <code>2 * 2^n</code> steps:
                    (1) right <code>2^n</code> times followed by up
                    <code>2^n</code> more times and (2) right, up
                    <code>2^n</code> times. Again, both travel a total distance
                    of <code>2 units</code> for all <code>n &gt; 0</code>.
                </p>
<h2>Contradiction</h2>
<p>
                    However, as we take <code>n</code> to infinity the
                    alternating path looks more and more like particle is
                    travelling along the hypotenuse line from
                    <code>(0,0)</code> to <code>(1,1)</code>. But, we know that
                    the distance traveled is always <code>2 units</code>. How
                    can this be if the particle is travelling along the distance
                    of the hypotenuse which has a distances of
                    <code>âˆš2 units</code>?!
                </p>
<h1>Explanation</h1>
<p>
                    This contradiction stumped me for a bit, but I thought of
                    three different ways to explain this seeming contradiction
                    while showering last night.
                </p>
<h2>1: Kinematics</h2>
<p>
                    We know that the particle takes a total of
                    <code>2 * n^2</code> steps, each of which are at a constant
                    speed [lets say <code>1 unit/second</code>]. In the original
                    <code>1 x 1</code> case, we travel <code>2 units </code> so
                    we take <code>2 seconds</code>. In each following case, we
                    take just as long since both the speed and distance are
                    constant so we know that the time we travel is constantly
                    <code>2 seconds</code>. Therefore, in the
                    <code>2^n x 2^n</code> sub-blocks case, since we know that
                    we're traveling at a constant <code>1 unit/sec</code> and
                    taking <code>2 seconds</code> meaning we're traveling
                    <code>2 units</code>.
                </p>
<p>
                    If we watched this scenario play out, we would see the
                    particle appearing to move at a speed of
                    <code>1/âˆš2 units/sec</code>. That is, even though the line
                    <i>looks</i> like the hypotenuse, it isn't. This makes sense
                    because we cannot travel along the hypotenuse, no matter how
                    small we get: At the very beginning we said the particle can
                    only move along the edges [streets] of the square, meaning
                    only travel right and up. So when we see the particle travel
                    along the hypotenuse at <code>1/âˆš2 units/sec</code>, we're
                    actually seeing the particle move right and up [or up and
                    right] a tiny amount that we only <i>assume</i> to be along
                    the hypotenuse.
                </p>
<p>
                    Again, the time staying constant because our speed and
                    distance stay the same: we keep moving
                    <code>1 unit/sec</code> and we travel a distance [2 for
                    up/right] * [paths] * [distance/path] =
                    <code>2 * 2^n * 1/2^n = 2</code> so we take
                    <code>2 seconds</code> to traverse the grid even as we push
                    <code>n</code> to infinity.
                </p>
<h2>2: Additive</h2>
<p>
                    Instead of dividing the square into sub-squares, what if we
                    tiled instead so that we doubled each existing square. That
                    is, we'd start with a single <code>1 x 1</code> unit block,
                    then grow to <code>2 x 2, 4 x 4, 8 x 8, ...</code> etc.
                    However, while we exponentially increase perimeter, we'll
                    also increased our speed proportionally [starting at
                    <code>1</code> unit/sec, then
                    <code>2, 4, 8, ...</code> units/sec]. That way, the particle
                    will always take 2 seconds to complete the square.
                </p>
<p>
                    In addition to seeing that this 2 seconds is a constant for
                    any resolution, we can also see that the two steps of both
                    right and up movements are finite distances. That means that
                    both the up and right movements are not, and cannot ever, be
                    treated as a single move diagonally [this is what we
                    implicitly assumed was happening when the sub-square sides
                    were of length
                    <code>1/2^n x 1/2^n</code>].
                </p>
<h2>3: Limit</h2>
<p>
                    Adding on to the explanation involving tiling above, we can
                    write an equation to relate the total distance traveled
                    [units] per speed [in units/sec]: <code>2n/n</code>. With
                    this, we can take the limit of <code>n</code> to infinity
                    and clearly this ends up as <code>2</code>. This result has
                    the units <code>seconds</code> which is consistent with our
                    other for the particle to travel all paths.
                </p>
<h1>Implications given Constraint</h1>
<p>
                    With that being said, this seems to say that travelling
                    eight blocks east and eight blocks north should take the
                    same time as travelling east then north eight times (eight
                    is arbitrary).
                </p>
<p>
                    In the real world, this isn't often true<sup><a href=&quot;#1-ref&quot; id=&quot;1-exp&quot;>1</a></sup>. Blocks aren't perfect rectangles made from streets and
                    your steps are rarely parallel/orthogonal to the x/y axis
                    so, unlike the idealized example, you're rarely moving in
                    just the x or y direction at a single time. Regardless, I
                    still think it's an interesting thought puzzle of sorts.
                </p>
<!-- <p>---</p>
                <p>
                    <sup><a href=&quot;#0-ref&quot; id=&quot;0-exp&quot;>0</a></sup> Considering
                    &quot;optimal&quot; paths that always progress (no paths that consider
                    a left or down move).
                </p>
                <p>
                    <sup><a href=&quot;#1-ref&quot; id=&quot;1-exp&quot;>1</a></sup> This isn't
                    important to the core question, but notice the sub series
                    [up, left] from the series [up, left, up, left] is
                    equivalent to [left, up] since they're symmetric, so [left,
                    up, ...] is equivalent to [up, left, ...].
                </p> -->
<p>
                    Shout out to David Jiang + Jack Guerrisi for helping me wrap
                    my head around this problem and to Frank Liu and Phoebe Chen
                    for listening to me try to explain this while toasted on the
                    way to Asian Ghetto! :)
                </p>
<p>---</p>
<p>
<sup><a href=&quot;#1-exp&quot; id=&quot;1-ref&quot;>1</a></sup>
<i>Update #1:</i> I found a set of stairs outside the
                    <a href=&quot;//www.google.com/maps/place/@37.8803004,-122.2452309,19z&quot;>MSRI</a>
                    (fitting!) which is a sort of tiling switchback in that it
                    constrains you to moving like the particle in this problem.
                    It was very foggy that night, so here's a scuffed photo:
                </p>
<img src=&quot;/static/media/posts/PXL_20211119_022706222.jpg&quot;/>
<p>---</p>
<p>
<i>Update #2:</i> Aidan McNabb (cowboy hat) showed me a
                    contradiction that pi equals four (the
                    <a href=&quot;https://math.stackexchange.com/questions/12906/the-staircase-paradox-or-why-pi-ne4&quot;>staircase paradox</a>) which follows a similar line of reasoning (has the same
                    faults). Turns out this is a fairly old problem and there's
                    a entire form of geometry called
                    <a href=&quot;https://en.wikipedia.org/wiki/Taxicab_geometry&quot;>Taxicab geometry</a>
                    .
                    <img alt=&quot;&quot; src=&quot;/static/media/posts/PXL_20220118_042533313.jpg&quot;/>
</p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>AoPS Blogs + RSS</title>
			<pubDate>Tue, 18 May 2021 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/aops-rss.html</link>
			<guid>https://mehvix.com/posts/aops-rss.html</guid>
			<content:encoded><![CDATA[<article>
<p>
                Hey math monke(s), do you use
                <a href=&quot;//en.wikipedia.org/wiki/RSS&quot;>RSS</a> (bonus if you
                are cool enough to have a
                <a href=&quot;http://cloud.mehvix.com&quot;>cloud.mehvix.com</a>
                account and use the
                <a href=&quot;//apps.nextcloud.com/apps/news&quot;>News app</a>) and
                read AoPS blogs? If so, you should checkout
                <a href=&quot;http://aops-rss.mehvix.com&quot;>aops-rss.mehvix.com</a>
                â€” plug in a blog's URL like
                <a href=&quot;//artofproblemsolving.com/community/c1273888&quot;>Dan's</a>
                (kiss_mm) and it should spit out a
                <a href=&quot;//aops-rss.herokuapp.com/1273888&quot;>RSS feed</a>.
                Prior to this project, I haven't used Ruby so there may be
                kinks and edge case errors â€” if you run into any,
                <a href=&quot;//github.com/Mehvix/aops-blog-rss/issues&quot;>create an issue on Github</a>
                or reach out :)
            </p>
<p>
                If you haven't heard of RSS, you should check it out. In
                essence, it lets you keep up with online feeds (blogs /
                forums posts, news sites, podcasts,
                <a href=&quot;//www.comicsrss.com/rss/calvinandhobbes.rss&quot;>Calvin and Hobbes</a>, etc.) without having to
                manually check webpages for
                updates. I'd recommend using
                <a href=&quot;//chrome.google.com/webstore/detail/get-rss-feed-url/kfghpdldaipanmkhfpdcjglncmilendn&quot;>this
                    extension</a>
                for Chrome-based browsers to see if a site has an RSS feed.
                Plus, with <a href=&quot;//nitter.net/&quot;>Nitter</a> and
                <a href=&quot;//bibliogram.art/&quot;>Bibliogram</a> you can create
                proxied RSS feeds for Twitter and Instagram accounts so you
                don't have to deal with the bullshit spying + ads. If you
                don't have a
                <a href=&quot;//cloud.mehvix.com&quot;>cloud.mehvix.com</a>
                account, there's lots of RSS Readers out there. I've heard
                alright things about
                <a href=&quot;//feedly.com/&quot;>Feedly</a> and
                <a href=&quot;//www.newsblur.com/&quot;>NewsBlur</a> but do your own
                due diligence.
            </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Webmonkeys: Use www</title>
			<pubDate>Mon, 17 May 2021 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/use-www.html</link>
			<guid>https://mehvix.com/posts/use-www.html</guid>
			<content:encoded><![CDATA[<article>
<p>
                    I have a <i>yuuuug</i> bookmarks folder of assorted articles
                    I've come across but haven't had the time to delve into. Now
                    that I'm through my UW classwork I've finally been able to
                    chunk through some of them and today and I came across the
                    (mostly-irrelevant, website-related decision) debate between
                    <a href=&quot;http://no-www.org/&quot;>no-www</a> and
                    <a href=&quot;//www.yes-www.org/&quot;><b>www</b>.yes-www</a>.
                </p>
<h1>The debate</h1>
<p>
                    The argument by <a href=&quot;http://no-www.org/&quot;>no-www</a> is
                    that <code>www</code> is supposedly â€œdeprecatedâ€ in that
                    it's redundant to type. But, if you look at our tech
                    overlords like <a href=&quot;http://google.com&quot;>Google</a>,
                    <a href=&quot;http://amazon.com&quot;>Amazon</a>,
                    <a href=&quot;http://apple.com&quot;>Apple</a>, etc. you'll see that
                    they redirect no-www to www (more on why later). For what
                    it's worth though, having no <code>www</code> has its
                    <i>minimalism aesthetic</i> and anecdotally most smaller
                    sites seem to have no www.
                </p>
<p>
<a href=&quot;//www.yes-www.org/&quot;>yes-www</a>
                    has actual
                    <a href=&quot;//www.yes-www.org/why-use-www/&quot;>technical arguments</a>: (1) you canâ€™t use a CNAME record on a &quot;naked domain&quot;
                    (that is, sites with no <code>www</code>) and (2) cookies on
                    the naked domain get sent to all subdomains (so all
                    <code>*.mehvix.com</code> domains) which can mess up caching
                    for static files.
                </p>
<h1>Changing</h1>
<p>
                    Both of the pro-<code>www</code> points aren't an issue for
                    me now, but best not to limit myself later down the line. To
                    swap, I prefaced the domain with <code>www</code> on this
                    site's
                    <a href=&quot;//github.com/Mehvix/mehvix.com/commit/037e1dde90bc5a4e43adfe72dfeeb0e49d73d898&quot;>CNAME on the GitHub</a>
                    , changed my <code>CNAME</code> and <code>A</code> DNS
                    records so that all prior non-<code>www</code> links would
                    go to the new <code>www</code> version.
                </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Windows: Your files are insecure</title>
			<pubDate>Thu, 13 May 2021 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/win-insecure-files.html</link>
			<guid>https://mehvix.com/posts/win-insecure-files.html</guid>
			<content:encoded><![CDATA[<article>
<p>
                    Anyone who has physical access to your Windows machine can
                    plug in and boot to a live USB drive which allows them to
                    see/edit/copy your entire filesystem â€” all images,
                    documents, applications, etc. â€” without logging in. All this
                    can be prevented by just encrypting your file system.
                </p>
<h1>BitLocker</h1>
<p>
                    Microsoft doesn't value your security. Their proprietary
                    encryption software
                    <a href=&quot;//en.wikipedia.org/wiki/BitLocker&quot;>BitLocker</a>
                    is only available for paying Windows Pro and Enterprise
                    users (and even then, it isn't enabled by default ðŸ¤”). And,
                    if for some reason you're paying (extra) for Windows, you
                    still shouldn't use BitLocker. Microsoft practice
                    <a href=&quot;//en.wikipedia.org/wiki/Security_through_obscurity&quot;>security through obscurity</a>: like Windows, BitLocker code is proprietary meaning
                    there's no way to vet it's security or verify there are not
                    backdoors for any of the
                    <a href=&quot;//en.wikipedia.org/wiki/Alphabet_agencies#Modern_era&quot;>alphabet boys</a>
                    which Microsoft has done before â€” from what's been made
                    <i>public</i>, Microsoft has
                    <a href=&quot;//archive.ph/Y3hsk&quot;>helped the NSA to circumvent their own encryption</a>,
                    <a href=&quot;//archive.ph/ETUkp&quot;>backdoored pre-installed disk encryption</a>,
                    <a href=&quot;//archive.ph/sX5dY&quot;>informed the NSA of bugs in Windows before fixing
                        them</a>, and
                    <a href=&quot;//archive.is/ZW77o&quot;>there's a secret NSA key in Windows, whose functions we
                        don't know</a>.
                </p>
<p>
                    The alternative to proprietary software is open source
                    software: anyone can verify an open source project's
                    legitimacy and contribute improvements of their own. For
                    Windows, the open source encryption software I'd recommend
                    is
                    <a href=&quot;//veracrypt.fr/en/Home.html&quot;>VeraCrypt</a>.
                </p>
<h1>VeraCrypt</h1>
<p>
                    You can download the latest installer of VeraCrypt
                    <a href=&quot;//veracrypt.fr/en/Downloads.html&quot;>here</a>. Once
                    you install it, the process of encrypting your drive(s) is
                    fairly trivial. For encrypting your storage device with the
                    operating system, you start by going selecting
                    <code>System</code> &gt;
                    <code>Encrypt System Partition/Drive...</code> and following
                    the creation wizard. The default AES + SHA-512 is more than
                    enough. Once you get to &quot;Collecting Random Data&quot;, shake your
                    mouse around â€” VeraCrypt gathers random data from your
                    mouse's position because (somewhat unintuitively)
                    <a href=&quot;//www.howtogeek.com/183051/htg-explains-how-computers-generate-random-numbers/&quot;>it's hard for computers to generate unpredictable
                        random numbers on their own</a>.
                </p>
<h2>Rescue Disk</h2>
<p>
                    Later, when prompted to, I'd recommend that you create a
                    rescue disk â€” this is allows you to unlock your drive if one
                    day Windows can't boot or the VeraCrypt bootloader get
                    damaged (unlikely, but possible). All you have to do is grab
                    a USB drive, create a folder called <code>EFI</code>, and
                    add copy the generated Rescue Disk. If something ever does
                    go wrong and you want to decrypt your drive outside of
                    Windows, all you have to do is plug in and boot to the USB
                    then enter your decryption password. Because you still need
                    to have your password, you don't need to keep this USB
                    especially secure (but hey, it can't hurt!).
                </p>
<h2>Wiping</h2>
<p>
                    You'll also be able to optionally write wipe the drive of
                    all unencrypted data from the drive. Multiple passes is an
                    <a href=&quot;http://www.infosecisland.com/blogview/16130-The-Urban-Legend-of-Multipass-Hard-Disk-Overwrite.html&quot;>urban legend</a>
                    (doesn't improve security), wears the drives down, and can
                    take a very long time. One pass is sufficient and doesn't
                    take too long (compared to no passes).
                </p>
<h2>Testing</h2>
<p>
                    After selecting the number of passes, you should be prompted
                    to test that the boot loader works before VeraCrypt proceeds
                    with encryption and the wipe(s). Once you restart, you'll be
                    be prompted with the VeraCrypt boot loader before the
                    Windows login screen. Here, you enter your password (and pin
                    if you opted for one; if you didn't leave it empty). Once
                    you get back into Windows, VeraCrypt will open and prompt
                    you to actually encrypt your data and fulfill the wipe(s).
                    When that completes, you're done!
                </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>CalyxOS Install Guide</title>
			<pubDate>Fri, 29 Jan 2021 08:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/calyx.html</link>
			<guid>https://mehvix.com/posts/calyx.html</guid>
			<content:encoded><![CDATA[<article>
<p>
                    This blog goes over how to install CalyxOS â€” a custom
                    Android ROM for (somewhat ironically) Google's Pixel phones.
                    It's built with &quot;Privacy by Design&quot;; minimizing tracking
                    done by phone manufacturers, cell providers, ISPs,
                    advertising companies, etc. That being said, it's not as
                    extreme as alternatives, notably
                    <a href=&quot;//grapheneos.org/&quot;>GrapheneOS</a>, and seeks
                    to maintain a balance between usability and privacy. You can
                    check (and contribute) app compatibility
                    <a href=&quot;//plexus.techlore.tech/&quot;>here</a>.
                </p>
                ---

                <h1>Backup</h1>
<p>
                    You will loose all of your data so backup stuff you want to
                    keep. You won't be using Google to backup/restore once you
                    get CalyxOS installed, so you're best bet is probably to
                    transfer files directly to your computer. You can do so by
                    enabling &quot;Data Transfer through USB&quot; so your files can be
                    viewed &amp; copied from your PC File Explorer.
                </p>
<h1>Unlock Bootloader</h1>
<p>
                    Go into your device's settings, <code>About phone</code>,
                    and down to <code>Build number</code>. Spam the button 10
                    times until you get developer. Then, go back and to
                    <code>System</code> &gt; <code>Advanced</code> &gt;
                    <code>Developer options</code> and enable
                    <code>USB debugging</code> and
                    <code>OEM unlocking</code>
</p>
<h1>Update Drivers</h1>
<p>
                    Download the
                    <a href=&quot;//developer.android.com/studio/run/win-usb&quot;>Google USB Drivers</a>
                    and extract the files somewhere on your PC. Then, showdown
                    the phone, press and hold the power and volume down until
                    the bootloader (black screen with a red triangle) appears.
                    You can then connect the phone to your PC if you haven't
                    already and go to Device Manager in Windows. Then, navigate
                    to <code>Other Devices</code>, find your phone, right-click,
                    and go to <code>Update drivers</code> &gt;
                    <code>Browse...</code> &gt; point to where you extract the USB
                    drivers, and Windows should do the rest.
                </p>
<h1>Flash CalyxOS</h1>
<p>
                    Create a new folder and download the
                    <a href=&quot;//calyxos.org/get&quot;>CalyxOS release for your device</a>
                    (don't unzip it though!) as well as the
                    <a href=&quot;//github.com/AOSPAlliance/device-flasher/releases/&quot;>device flasher</a>
                    (which may be falsely flagged as a virus). From there, you
                    can run the
                    <code>device-flasher.exe</code> and follow along the
                    instructions. If you've followed the steps this far, the
                    only step not done is to remove the SIM card. Once you hit
                    enter to begin the flash, you can just sit back and wait for
                    it to install. Once it has, all you have to do is re-lock
                    the bootloader and you're set!
                </p>
<h1>Next</h1>
<p>
                If you need help with CalyxOS I'd recommend asking any through
                any of the following services:
                <table>
<ul>
<li>
                            Matrix:
                            <a href=&quot;//matrix.to/#/#CalyxOS:matrix.org&quot;>#CalyxOS:matrix.org</a>
</li>
<li>
                            IRC:
                            <a href=&quot;//webchat.freenode.net/#calyxos&quot;>#calyxos</a>
                            on Freenode
                        </li>
<li>
                            Telegram:
                            <a href=&quot;//t.me/CalyxOSpublic&quot;>CalyxOSpublic</a>
</li>
<li>Reddit: <a href=&quot;//old.reddit.com/r/CalyxOS/&quot;>/r/CalyxOS</a></li>
</ul>
</table>
                All of the chat rooms are bridged so messages sent on one will show up on others and vice versa.
                </p>
<p>
                    Last, there's an
                    <a href=&quot;//calyxos.org/news/&quot;>blog</a> for updates +
                    known bugs (and fixes) that's got an
                    <a href=&quot;//calyxos.org/feed.xml&quot;>RSS feed</a> too.
                </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Make Twitter Suck Less</title>
			<pubDate>Mon, 07 Dec 2020 08:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/twitter.html</link>
			<guid>https://mehvix.com/posts/twitter.html</guid>
			<content:encoded><![CDATA[<article id=&quot;content&quot;>
<p>
                    Twitter is pretty bad. But, it's the only place with
                    <a href=&quot;//twitter.com/jon_bois&quot;>Jon Bois tweets</a>. Here
                    are a couple ways you can make Twitter suck less.
                </p>
<p>
<i>2/2/2021 Update:</i> I came across
                    <a href=&quot;//github.com/zedeus/nitter&quot;>nitter</a> which is a
                    FOSS proxy to Twitter. Currently, you can only view certain
                    profiles but is perfect for my use-case.
                </p>

                ---
                <div>
<h1 style=&quot;margin-top: 1em&quot;>Remove Homepage Crap</h1>
                    The Twitter &quot;What's Happening&quot; sidebar is dedicated to drama
                    and stuff intended to make you angry. To remove this, you'll
                    need
                    <a href=&quot;//github.com/gorhill/uBlock&quot;>uBlock origin</a>
                    (which is something you should have installed if you want a
                    more suck less internet in general). Once you have it
                    installed, go to the
                    <a href=&quot;chrome-extension://cjpalhdlnbpafiamejdnhcphjbkeiagm/dashboard.html&quot;>dashboard</a>
                    add the following under the &quot;My filters&quot; tab:
                    <pre><code class=&quot;css&quot;>twitter.com##.r-1hycxz.r-zso239.r-aqfbo4.css-1dbjc4n</code></pre>
</div>
<div>
<h1>De-numerate</h1>
                    As
                    <a href=&quot;//bengrosser.com/projects/twitter-demetricator/&quot;>Ben Grosser</a>
                    writes:
                    <blockquote>
                        Visible metrics can make us feel more compulsive,
                        competitive, and anxious. Furtherâ€”without realizing it,
                        we craft rules for ourselves based on what the numbers
                        say, and these rules affect what we post, who we friend,
                        and which posts we â€œlike.â€
                    </blockquote>

                    He's written a tool to remove all metrics (likes, retweets,
                    replies, followers, etc.) which you can install through one
                    sources
                    <a href=&quot;//bengrosser.com/projects/twitter-demetricator/install-twitter-demetricator/&quot;>linked here</a>. I am personally using
                    <a href=&quot;//github.com/violentmonkey/violentmonkey&quot;>Violentmonkey</a>.
                </div>
<div>
<h1>Remove Interests</h1>
                    Twitter keeps track of what it think is you're interesting
                    in, then uses it to show you &quot;relevant&quot; tweets (and ads).
                    You can manually prune these
                    <a href=&quot;//twitter.com/settings/your_twitter_data/twitter_interests&quot;>here</a>, but the list can get very long, very quick. You can
                    automate &quot;un-interesting&quot; all topics by pasting
                    <a href=&quot;//gist.github.com/edjw/61cda68535b237fa7fa8db23842c1b6d/&quot;>Ed Johnson-Williams'</a>
                    script in console:

                    <pre><code class=&quot;js&quot;>&quot;use strict;&quot;
var labelSelector = &quot;.r-1p0dtai.r-1ei5mc7.r-1pi2tsx.r-1d2f490.r-crgep1.r-orgf3d.r-t60dpp.r-u8s1d.r-zchlnj.r-ipm5af.r-13qz1uu&quot;

// Get all the interests that Twitter has inferred about your account
var interests = Array.from(document.querySelectorAll(labelSelector));
console.log(`${interests.length} total interests found`);
var checkedInterests = 0;
console.log(`Startingâ€¦`);

// For each of those interests, if it's selected, uncheck the checkbox 
interests.forEach((interest) =&gt; {
    if (interest.checked) {
        checkedInterests++
        interest.click();
        console.log(`${checkedInterests} of ${interests.length}`)
    }
});

console.log(`Finished`);</code></pre>
</div>
<div>
<h1>Remove Suggested Content</h1>

                    Under the
                    <a href=&quot;//twitter.com/settings/add_muted_keyword&quot;>muted keywords</a>
                    section, you paste
                    <a href=&quot;//gist.github.com/IanColdwater/88b3341a7c4c0cf71c73ac56f9bd36ec#gistcomment-3153196&quot;>Jake Bellacera's</a>
                    script to automatically add suggest content keywords to the
                    blocklist, cleaning up your timeline.
                    <pre><code class=&quot;js&quot;>const delayMs = 500; // change this if you feel like its running too fast
const keywords = `ActivityTweet
generic_activity_highlights
generic_activity_momentsbreaking
RankedOrganicTweet
suggest_activity
suggest_activity_feed
suggest_activity_highlights
suggest_activity_tweet
suggest_grouped_tweet_hashtag
suggest_pyle_tweet
suggest_ranked_organic_tweet
suggest_ranked_timeline_tweet
suggest_recap
suggest_recycled_tweet
suggest_recycled_tweet_inline
suggest_sc_tweet
suggest_timeline_tweet
suggest_who_to_follow
suggestactivitytweet
suggestpyletweet
suggestrecycledtweet_inline`.split(/\W+/);

const nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, &quot;value&quot;).set;

const addMutedKeyword = keyword =&gt; {
    const input = document.querySelector(&quot;[name='keyword']&quot;);
    nativeInputValueSetter.call(input, keyword);
    input.dispatchEvent(new Event('input', { bubbles: true }));
    document.querySelector(&quot;[data-testid='settingsDetailSave']&quot;).click();
}

const delay = () =&gt; {
    return new Promise(res =&gt; setTimeout(res, delayMs));
};

keywords.reduce(async (prev, keyword) =&gt; {
    await prev;
    document.querySelector(&quot;a[href='/settings/add_muted_keyword']&quot;).click();
    await delay();
    addMutedKeyword(keyword);
    return delay();
}, Promise.resolve());</code></pre>
</div>

                ---

                <div>
                    In the end, you should get something less distracting and
                    more focused on the content you enjoy. For example, here's
                    my new homepage:

                    <img alt=&quot;End result&quot; src=&quot;/static/media/posts/suckless-twitter-result.JPG&quot; style=&quot;width: 100%; margin-top: 1em&quot;/>
</div>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>NC Importing + Automating Calendars</title>
			<pubDate>Wed, 08 Apr 2020 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/nextcloud-calendar.html</link>
			<guid>https://mehvix.com/posts/nextcloud-calendar.html</guid>
			<content:encoded><![CDATA[<article id=&quot;content&quot;>
<p>
                    Upgrading to Nextcloud 18 broke both importing public Google
                    calendars and external calendars so that they donâ€™t update
                    automatically. Fortunately, both of these issues have
                    workarounds<br/>
</p>
<h1>Importing Google Calendars</h1>
<p>
                    For external calendars, Nextcloud needs a
                    <code>.ics</code> or <code>.ical</code> file. To add a
                    Google Calendar, we just have to adjust the URL's formatting
                    which you can do automatically using
                    <a href=&quot;//toolbox.mehvix.com/ical-generator/&quot;>this online tool</a>. Alternatively, you can follow the manual method below.
                </p>
<p>
                    For embedded calendars (in this example the
                    <a href=&quot;//codeforces.com/calendar&quot;>Codeforces calendar</a>)
                    you can find the <code>cid</code> by clicking on the plus
                    button in the bottom right corner which will open the
                    following URL:
                </p>
<pre><code class=&quot;ini&quot;>https://calendar.google.com/calendar/render?cid=k23j233gtcvau7a8ulk2p360m4@group.calendar.google.com&amp;ctz=America/Chicago</code></pre>
<p>
                    Alternatively, you can get also use inspect element which
                    will yield the following URL containing the
                    <code>src</code>:
                </p>
<pre><code class=&quot;ini&quot;>https://calendar.google.com/calendar/embed?src=k23j233gtcvau7a8ulk2p360m4@group.calendar.google.com&amp;ctz=America/Chicago&amp;hl=en&amp;wkst=1</code></pre>
<p>
                    Then take everything <strong>after</strong>
<code>src=</code>, <code>cid=</code>, or
                    <code>/ical/</code> and up to the next <code>&amp;</code> sign,
                    oftentimes this will look something like
                    <code>[id]@[group].calendar.google.com</code>. Then, take
                    this string and add it to the following:
                </p>
<pre><code class=&quot;ini&quot;>https://calendar.google.com/calendar/ical/[add here!]/public/basic.ics</code></pre>
<p>
                    For example, using the Codeforces calendar you'd grab
                    <code>k23j233gtcvau7a8ulk2p360m4@group.calendar.google.com</code>
                    and get the following:
                </p>
<pre><code class=&quot;ini&quot;>https://calendar.google.com/calendar/ical/k23j233gtcvau7a8ulk2p360m4@group.calendar.google.com/public/basic.ics</code></pre>
<p>
                    You can then use this URL to as the external URL in the
                    Nextcloud Calendar app.
                </p>
<h1>Automatically Updating Calendars</h1>
<p>
                    The default subscription refreshing interval is of one week
                    (unless the subscription itself asks for a different rate).
                </p>
<p>You may override it with something like:</p>
<code>sudo -u www-data php /var/www/html/occ config:app:set dav
                    calendarSubscriptionRefreshRate --value &quot;P1DT6H&quot;</code>
<p>
                    which would set the interval to 1 day and 6 hours. The
                    <code>--value</code> data type is
                    <a href=&quot;//www.php.net/manual/en/dateinterval.construct.php&quot;>DataInterval</a>.
                </p>
</article>]]></content:encoded>
		</item>
		<item>
			<author>Max Vogel</author>
			<title>Nextcloud Install Guide</title>
			<pubDate>Tue, 03 Sep 2019 07:00:00 -0000</pubDate>
			<link>https://mehvix.com/posts/nextcloud-guide.html</link>
			<guid>https://mehvix.com/posts/nextcloud-guide.html</guid>
			<content:encoded><![CDATA[<article>
<p>
                    Nextcloud is a FOSS solution for cloud storage, among other
                    capabilities such as email, notes, calender, tasks. Pretty
                    much every thing that you can do with the Google suite, you
                    can use Nextcloud for. For that reasoning,
                </p>
<h1>Basic Installation Step</h1>
<p>
                    We'll start by getting the machine up-to-date and setting up
                    our webserver, apache, with the following commands
                </p>
<pre class=&quot;language-shell&quot;><code>$ sudo apt update &amp;&amp; sudo apt upgrade
$ sudo apt install apache2
$ systemctl start apache2 # turns on apache now 
$ systemctl enable apache2 # auto-start apache2 on boot</code></pre>
<p>
                    If youâ€™ve configured the server right, you should be able to
                    go to the serverâ€™s IP (which you can find by running
                    <code>hostname -I</code>) in the browser of your choice and
                    see the &quot;<a href=&quot;/static/media/posts/apache2page.png&quot;>Apache2 Ubuntu Default Page</a>.&quot;
                </p>
<br/>
<p>Next, we can install MariaDB â€” the database.</p>
<pre class=&quot;language-shell&quot;><code>$ sudo apt install mariadb-server
$ mysql_secure_installation</code></pre>
<p>
                    During the installation you'll be prompted to login (but we
                    don't have an account setup yet!). Just hit enter and it'll
                    prompt you to create an account. After that, accept all of
                    the recommended prompt options and youâ€™re set. After we've
                    installed the database, we'll then configure it for
                    NextCloud. (note that &quot;<code>Password</code>&quot; will be your
                    own password created during the installation phase).
                </p>
<pre><code class=&quot;language-pgsql&quot;>$ mariadb 
CREATE DATABASE nextcloud;
CREATE USER nextcloud IDENTIFIED BY 'Password';
GRANT USAGE ON *.* TO nextcloud@localhost IDENTIFIED BY 'Password';
GRANT ALL privileges ON nextcloud.* TO nextcloud@localhost;
FLUSH PRIVILEGES;
quit;</code></pre>
<p>
                    While it's not necessary for NextCloud, we'll install
                    phpMyAdmin so that we have a GUI interface to our database.
                </p>
<pre class=&quot;language-shell&quot;><code>$ sudo apt install php libapache2-mod-php php-mysql
$ sudo apt install phpmyadmin</code></pre>
<p>
                    When running through the installation dialog, make sure to
                    set the webserver as <code>apache2</code> and follow all of
                    the default options. After the install, we will symlink the
                    apache and phpMyAdmin configurations which, in tandem with
                    the following commands, will enable phpMyAdmin.
                </p>
<pre class=&quot;language-shell&quot;><code>$ sudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf
$ a2enconf phpmyadmin
$ service apache2 reload
$ systemctl reload apache2</code></pre>
<p>
                    Now, (fingers crossed) if you go to
                    <code>[server ip]/phpmyadmin/</code>
                    you'll see the phpMyAdmin login page;
                    <strong>however, do not login yet.</strong> We do not have
                    encryption enabled on the web page yet so your ISP or server
                    can theoretically see what you send. We'll setup encryption
                    down the road in a bit.
                </p>
<p>But first, we'll install the required PHP (libraries)</p>
<pre class=&quot;language-shell&quot;><code>$ sudo apt install php-gd php-json php-mysql php-curl php-mbstring php-intl php-imagick php-xml php-zip</code></pre>
<p>as well as NextCloud itself</p>
<pre class=&quot;language-shell&quot;><code>$ wget https://download.nextcloud.com/server/releases/latest.tar.bz2
$ tar -xvf latest.tar.bz2 # unzip
$ cd nextcloud
$ mv ./* /var/www/html/ # move all files to webserver directory
$ mv ./.htaccess /var/www/html # move hidden dot files
$ mv ./.user.ini /var/www/html # ^
$ cd /var/www/html
$ chown -R www-data:www-data ./* # Recursively set www-data as owner of files
$ chown www-data:www-data .htaccess # ^ for hidden dot files
$ chown www-data:www-data .user.ini # ^</code></pre>
<p>
                    Now if you go to
                    <code>[server ip]</code> youâ€™ll get the Nextcloud page
                    <strong>BUT DO NOT LOGIN / CREATE ACCOUNT</strong>. Again,
                    we still need to set up encryption!
                </p>
<p>
                    To set up encryption, we'll use certbot which we'll install
                    and configure like this:
                </p>
<pre class=&quot;language-shell&quot;><code>$ sudo apt install certbot
$ sudo apt install python-certbot-apache
$ vim /etc/apache2/sites-available/000-default.conf</code></pre>
<p>
                    then uncomment and change <code>ServerName</code> to
                    whatever domain youâ€™re using, such as
                    <code>cloud.mehvix.com</code>.
                </p>
<p>
                    Next, you need to point your domain at your server and open
                    your server to the external access. Youâ€™ll first need to
                    port forward your server (you can find the ip via
                    <code>hostname -I</code>) to port <code>443</code>, and then
                    create an A record under your domainâ€™s DNS settings pointing
                    at your external IP (found via
                    <code>dig +short myip.opendns.com
                        @resolver1.opendns.com</code>). <strong>Note</strong> that if youâ€™re using Cloudflare,
                    you have to disable Universal SSL for Nextcloud to work.
                </p>
<p>
                    After making your server open to the WWW, you can finish
                    setting up certbot by restarting the webserver and
                    activating certbot
                </p>
<pre class=&quot;language-shell&quot;><code>$ systemctl restart apache2
$ certbot --apache</code></pre>
<p>
                    Following the set up dialog will prompt you to auto-redirect
                    from http to https. Your choice, but I'd go ahead and choose
                    redirect. Now you can login on the myPhpAdmin/Nextcloud
                    securely!
                </p>
<p>
                    We're not done yet though. For security reasons, itâ€™s a good
                    idea to have the data folder outside of the web root
                    (<code>/var/www/</code>) I already set up my drives/raid
                    config, so all I had to do was create and mount a partition:
                </p>
<pre class=&quot;language-shell&quot;><code>$ mkdir /media/nextcloud-data/
$ chown www-data:www-data /media/nextcloud-data/
$ mkfs.ext4 /dev/sda
$ mount /dev/sda /media/nextcloud-data/</code></pre>
                Then to set up automount, I did <code>sudo blkid</code> to grab
                the UUID of the partition which I then appended to
                <code>/etc/fstab</code>:
                <pre><code class=&quot;language-plaintext&quot;>UUID=[YOUR UUID] /media/nextcloud-data ext4 defaults 0 0</code></pre>
<p>
                    From there, you can go ahead to the Nextcloud page, create
                    an account (you will use this for all NextCloud logins).
                    Make sure to change the data folder to
                    <code>/media/nextcloud-data/</code> or whatever dir you are
                    using, then enter the MariaDB username (nextcloud) and
                    password.<br/><br/>
</p>
<p>
<strong>
                        Now youâ€™ve got yourself a working Nextcloud
                        Server!</strong>
                    However, there are still a couple things that you still need
                    to configure which Iâ€™ll cover in the following section.<br/><br/>
</p>
<h1>Securing Nextcloud</h1>
<p>
                    If you head to
                    <code>https://yournextcloud.com/settings/admin/overview</code>
                    youâ€™ll see all security and setup warnings. Hereâ€™s how you
                    fix the most common:
                </p>
<h2>
                    The PHP memory limit is below the recommended value of
                    512MB.
                </h2>
<blockquote>
<p><code>vim /etc/php/7.4/apache2/php.ini</code><br/></p>
<pre><code class=&quot;language-ini&quot;>upload_max_filesize = 512M
memory_limit = 512M
post_max_size = 512M</code></pre>
<p><code>systemctl restart apache2</code></p>
</blockquote>
<h2>
                    The â€œStrict-Transport-Securityâ€ HTTP header is not set to at
                    least â€œ15552000â€ seconds. For enhanced security, it is
                    recommended to enable HSTS as described in the security
                    tips.
                </h2>
<blockquote>
<p>
<code>vim
                            /etc/apache2/sites-available/000-default-le-ssl.conf</code><br/>
</p>
<p>Add the following under <code>ServerName</code>:</p>
<pre><code class=&quot;apache&quot;>&lt;IfModule mod_headers.c&gt;
    Header always set Strict-Transport-Security &quot;max-age=15552000; includeSubDomains; preload&quot;
&lt;/IfModule&gt;</code></pre>
<p>
<code>a2enmod headers</code><br/>
<code>systemctl restart apache2</code>
</p>
</blockquote>
<h2>
                    Your web server is not properly set up to resolve
                    â€œ/.well-known/[caldav][carddav]â€œ. Further information can be
                    found in the documentation
                </h2>
<blockquote>
<p>
<code>vim
                            /etc/apache2/sites-available/000-default-le-ssl.conf</code><br/>
</p>
<p>Add the following under <code>ServerName</code>:</p>
<pre><code>&lt;Directory /var/www/html/&gt;
	Options +FollowSymLinks
	AllowOverride All
&lt;/Directory&gt;</code></pre>
<p><code>systemctl restart apache2</code></p>
</blockquote>
<h2>
                    No memory cache has been configured. To enhance performance,
                    please configure a memcache, if available. Further
                    information can be found in the documentation
                </h2>
<blockquote>
<code>sudo apt install php-apcu</code><br/>
<code>vim /var/www/html/config/config.php</code>
<pre><code style=&quot;margin: 0;&quot;>'memcache.local' =&gt; '\OC\Memcache\APCu'</code></pre>
<code>sudo vim /etc/php/7./mods-available/apcu.ini</code>
<pre><code>apc.enable_cli=1</code></pre>
<code style=&quot;margin: 0&quot;>systemctl restart apache2</code>
</blockquote>
<h2>The PHP OPcache is not properly configured</h2>
<blockquote>
<p>
<code>vim /etc/php/7.4/apache2/php.ini</code><br/>
                        The following are default settings, consider checking
                        out
                        <a href=&quot;//www.scalingphpbook.com/blog/2014/02/14/best-zend-opcache-settings.html&quot;>this blog</a>
                        for information on what each parameter means<br/>
</p>
<pre><code class=&quot;apache&quot;>opcache.enable=1
opcache.enable_cli=1
opcache.memory_consumption=128
opcache.interned_strings_buffer=8
opcache.max_accelerated_files=10000
opcache.revalidate_freq=1
opcache.save_comments=1</code></pre>
<p><code>systemctl restart apache2</code></p>
</blockquote>
<h2>
                    Some columns in the database are missing a conversion to big
                    int
                </h2>
<blockquote>
<p>
<code>sudo -u www-data php /var/www/html/occ
                            db:convert-filecache-bigint</code>
</p>
</blockquote>
<h2>The database is missing some indexes</h2>
<blockquote>
<p>
<code>sudo -u www-data php /var/www/html/occ
                            db:add-missing-indices</code>
</p>
</blockquote>
<h2>
                    MySQL is used as database but does not support 4-byte
                    characters
                </h2>
<blockquote>
<p>
                        First, update MariaDB:<br/>
<code>vim /etc/mysql/my.cnf</code>
</p>
<pre><code class=&quot;language-ini&quot;>[mysqld]
innodb_file_per_table=1</code></pre>
<p>
<code>systemctl restart mariadb</code><br/>
<code>mariadb</code><br/>
</p>
<pre><code class=&quot;language-pgsql&quot;>ALTER DATABASE nextcloud CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
use nextcloud;
set global innodb_large_prefix=on;
set global innodb_file_format=Barracuda;
quit;</code></pre>
<p>
                        Then, update Nextcloud:<br/>
<code>sudo -u www-data php /var/www/html/occ
                            config:system:set mysql.utf8mb4 --type boolean
                            --value=&quot;true&quot;</code><br/>
<code>sudo -u www-data php /var/www/html/occ
                            maintenance:repair</code><br/>
</p>
</blockquote>
<h2>Transferring [file] - server replied: [nothing]</h2>
<blockquote>
<p>
<code>sudo -u www-data php /var/www/html/occ files:scan
                            --all</code><br/>
</p>
</blockquote>
<h2>Files arenâ€™t showing up for [user]</h2>
<blockquote>
<p>
<code>sudo chown -R www-data:www-data [data mount
                            location]/[user]</code><br/>
<code>sudo -u www-data php /var/www/html/occ files:scan
                            -- [user]</code><br/>
</p>
</blockquote>
<h2>
                    Transferring [file] - server replied: Forbidden
                    (Sabre\DAV\Exception\Forbidden)
                </h2>
<blockquote>
<p><code>sudo rm [username]/uploads</code><br/></p>
</blockquote>
<h2>Home storage for user [user] not writable</h2>
<blockquote>
<p>
<code>sudo chown -R www-data:www-data [data mount
                            location]/[user]</code>
</p>
</blockquote>
<h1>Further Securing &amp; Optimization</h1>
<p>
                    There are various other actions you can take to ensure that
                    both your os and nextcloud are secure. Iâ€™ll be covering the
                    oneâ€™s found on
                    <a href=&quot;//docs.nextcloud.com/server/14/admin_manual/configuration_server/harden_server.html&quot;>this wiki page</a>.
                </p>
<h2>Give PHP read access to <code>/dev/urandom</code></h2>
<blockquote>
<p>
                        On my system this ended up breaking Nextcloud, but Iâ€™ll
                        keep it in here because itâ€™s in the Nextcloud docs. If
                        youâ€™re site breaks, you should try commenting out
                        <code>open_basedir</code><br/>
<code>sudo vim /etc/php/7.4/apache2/php.ini</code><br/>
                        Add <code>open_basedir = /dev/urandom</code><br/>
<code>systemctl restart apache2</code><br/>
</p>
</blockquote>
<h2>Install and Tune PHP-FPM</h2>
<blockquote>
<p>
<code>sudo apt-get install php-fpm</code><br/>
<code>a2enmod proxy_fcgi setenvif</code><br/>
<code>a2enconf php7.4-fpm</code><br/>
<code>systemctl reload apache2</code><br/>
<code>vim /etc/php/7.4/fpm/pool.d/www.conf</code> and
                        add the following:<br/>
</p>
<pre><code>pm = dynamic
pm.max_children = 120
pm.start_servers = 12
pm.min_spare_servers = 6
pm.max_spare_servers = 18
pm.max_requests = 1000</code></pre>
<p>
<br/>
                        Note that these are the recommended settings for 4GB
                        total/1GB database and should be modified for your
                        system.
                    </p>
</blockquote>
<h1>Quality of Life Changes + Apps</h1>
<p>
                    While theses tips arenâ€™t needed for security, theyâ€™re nice
                    to have.
                </p>
<h2>Removing <code>/index.php</code> from every URL</h2>
<blockquote>
<p><code>vim /var/www/html/config/config.php</code></p>
<pre><code>'htaccess.RewriteBase' =&gt; '/'</code></pre>
<p>
<code>sudo -u www-data php /var/www/html/occ
                            maintenance:update:htaccess</code><br/>
<code>systemctl restart apache2</code><br/>
</p>
</blockquote>
<h2>Increasing the max file size</h2>
<blockquote>
<p><code>vim /etc/php/7.4/apache2/php.ini</code><br/></p>
<pre><code>upload_max_filesize = 16G
post_max_size = 16G
max_input_time = 3600
max_execution_time = 3600
upload_tmp_dir = /var/big_temp_files/</code></pre>
<p><code>vim /var/www/html/.user.ini</code><br/></p>
<pre><code>upload_max_filesize = 16G
post_max_size = 16G</code></pre>
<p>
<code>chown www-data:www-data
                            /media/big_temp_files/</code>
</p>
</blockquote>
<h2>
                    Solving â€œIndex column size too large. The maximum column
                    size is 767 bytes.â€
                </h2>
<blockquote>
<p><code>mariadb</code><br/></p>
<pre><code class=&quot;language-pgsql&quot;>set global innodb_file_format = BARRACUDA
set global innodb_large_prefix = ON
set global innodb_file_per_table = ON
set global innodb_default_row_format = 'DYNAMIC'
quit</code></pre>
<p><code>vim /etc/mysql/my.cnf</code><br/></p>
<pre><code class=&quot;language-ini&quot;>innodb_file_per_table=1
innodb-file-format=barracuda
innodb-file-per-table=ON
innodb-large-prefix=ON
innodb_default_row_format = 'DYNAMIC'</code></pre>
<p><code>systemctl restart mariadb</code></p>
</blockquote>
<h2>
                    Fixing right click not working (How to manually install an
                    addon)
                </h2>
<blockquote>
<a href=&quot;//github.com/nextcloud/files_rightclick/issues/83#issuecomment-525592831&quot;>This is fixed</a>, but I figured I'd keep it in anyways
                    <pre><code>$ cd /var/www/html/apps/
$ wget --load-cookies /tmp/cookies.txt &quot;https://docs.google.com/uc?export=download&amp;confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&amp;id=1usRzYpaOVFwKn63xrCrtJTHuLpMXQz_j' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&amp; 1usRzYpaOVFwKn63xrCrtJTHuLpMXQz_j&quot; -O rclick &amp;&amp; rm -rf /tmp/cookies.txt
$ rm -rf files_rightclick/
$ unzip rclick      
$ rm rclick
$ systemctl restart apache2</code></pre>
<code>systemctl restart apache2</code>
</blockquote>
<h2>Set timezone</h2>
<blockquote>
<p>
<code>vim /var/www/html/config/config.php</code><br/>
<br/>
                        Find your timezone in the ones available
                        <a href=&quot;//www.php.net/manual/en/timezones.php&quot;>here</a>.
                    </p>
<pre><code>'logtimezone' =&gt; 'America/Chicago',</code></pre>
<p><code>vim /etc/php/7.4/apache2/php.ini</code><br/></p>
<pre style=&quot;margin-bottom: 0&quot;><code>date.timezone = America/Chicago,</code></pre>
<p>
<code>sudo -u www-data php occ config:system:set
                            logtimezone --value &quot;Los_Angeles&quot;</code>
</p>
</blockquote>
<h2>Change default files for new users</h2>
<blockquote>
<p>
                        All files that are created for a user can be found in
                        <code>/var/www/html/core/skeleton/</code>
</p>
</blockquote>
<h1>Backing Up</h1>
<pre>
                    <code>$ cd /var/www/html/
$ sudo -u www-data php occ maintenance:mode --no-check-certificate
$ cd /var/www/
$ rsync -Aavx html/ backupdir/html_bkup_`date +&quot;%Y%m%d&quot;`/
$ mysqldump --single-transaction -u [nextcloud] -p[password] nextcloud &gt; backupdir/sqlbkp_`date +&quot;%Y%m%d&quot;`.bak
$ cd /var/www/html/
$ sudo -u www-data php occ maintenance:mode --off</code></pre>
</article>]]></content:encoded>
		</item>
		<atom:link href="http://dallas.example.com/rss.xml" rel="self" type="application/rss+xml"/>
	</channel>
</rss>
